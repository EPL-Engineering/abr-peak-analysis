/*! HelpSmith Web Help System 3.2
* http://www.helpsmith.com
* Copyright (c) 2007-2024 Divcom Software */
function hsNaviObj(){var e=this;this.ready=!1,this.searchResultSortKind="rank",this.currentTopicContext=-1,this.hlKeywordNode=null,this.specKeyPressedOnPopupLink=!1;var t=!1,n=!1;function i(e){var t=$('<div id="sort-result-header"></div>');$('<span class="se-message"></span>').append(e).appendTo(t),$("#search-result").empty().append(t)}function o(t){var n=function(e,t){return e.data("title").localeCompare(t.data("title"))};if("title"==t)var i=n;else i=function(e,t){return e.data("hsRank")==t.data("hsRank")?n(e,t):t.data("hsRank")-e.data("hsRank")};e.$searchResultTree.hsTree("sortChildren",i),$.cookie("hswh-ssd",e.searchResultSortKind,{expires:30,path:"/"})}this.init=function(){var t=$.cookie("hswh-ssd");this.searchResultSortKind="title"!=t&&"rank"!=t?this.searchResultSortKind:t,$("#tabs").tabs({activate:function(){e.updateCurrentTab()}}).addClass("hs-ready");var n=getWHSettings("tocAtimateExpandingCollapsingDuration",0);this.$tocTree=$("#toc-tree"),this.$tocTree.hsTree({expandSpeed:n<0?0:n,autoCollapse:getWHSettings("tocOnlyExpandSingleHeading",!1),noButtons:this.$tocTree.hasClass("hs-btn-none"),noIcons:this.$tocTree.hasClass("hs-icons-none"),onActivate:function(t){var n=t.find("> .hstree-node-cnt a");if(1==n.length){var i=n.attr("href");i&&"#"!=i&&(window.open(i,n.attr("target")),e.closeNavi())}getWHSettings("tocAutoExpandOnActivate",!1)&&e.$tocTree.hsTree("expandNode",t)},onCanReActivate:function(e){var t=e.find("> .hstree-node-cnt a");if(1==t.length){var n=t.attr("target");if(n){var i=n.toLowerCase();if("_blank"==i||"_top"==i)return!0}}return!1}}),this.$indexTree=$("#index-tree").hsTree({expandSpeed:0,onNodeRender:function(e){e.find("> .hstree-node-btn, > .hstree-node-cnt .hstree-node-icon").remove()},onQueryExpand:function(e,t){if(!t)return!1},onClick:function(t){var n=e.$indexTree.hsTree("getActiveNode");n&&n.is(t)&&e.$indexTree.hsTree("reActivateNode")},onActivate:function(t){var n=t.attr("data-topics");if(n){try{n=n.split(",")}catch(e){n=[]}if("object"==typeof n&&n.length>1)return void e.showKwdTopicList(t,n)}var i=t.find("> .hstree-node-cnt a");if(1==i.length){var o=i.attr("href");if(o&&"#"!=o)return e.destroyPopupBox(),window.open(o,i.attr("target")),void e.closeNavi()}e.showKwdNoEntryWarning(t)}}),this.$indexTree.find(".hstree-node").each((function(){e.$indexTree.hsTree("expandNode",$(this))})),this.$indexTree.on("scroll",(function(){e.destroyPopupBox()})),$("input#kwd-search").on("keyup",(function(t){e.selectKeyword($(this),t.which)}));var i=$("#search-form");if(i.length){var o=i.find(".search-btn");o.length&&o.on("click",(function(){e.search()}));var s=i.find("input#squery");s.length&&s.on("keyup",(function(t){13==t.which&&(t.preventDefault(),e.search())}))}$("body").on("keydown",(function(t){switch(t.which){case 27:var n=e.getSelectedTab();"tab-index"==n?$("#popup-box").length&&(t.preventDefault(),e.specKeyPressedOnPopupLink=!0,e.destroyPopupBox(),$("input#kwd-search").focus()):"tab-search"==n&&$("#sorting-popup-menu").is(":visible")&&(t.preventDefault(),e.hideSortingPopupMenu());break;case 38:case 40:if("tab-index"==e.getSelectedTab()){var i=$("#popup-box");if(i.length)if(!i.find(".hs-popuplink:focus").length){var o=i.find(".hs-popuplink");o.length&&(t.preventDefault(),40==t.which?o.first().focus():o.last().focus())}}}})).on("mousedown",(function(t){var n=e.getSelectedTab();if("tab-index"==n){var i=$("#popup-box:visible");i.length&&!$(t.target).closest(i).length&&e.destroyPopupBox()}else if("tab-search"==n){var o=$("#sorting-popup-menu:visible");o.length&&!$(t.target).closest(o).length&&e.hideSortingPopupMenu()}})),$(window).on("resize.hsNaviObj",(function(){e.alignTabPanel(),e.alignIndexTree(),e.alignSearchResultTree(),e.updatePopupBoxWidth(),e.hideSortingPopupMenu()})).trigger("resize.hsNaviObj")},this.closeNavi=function(){var e=window.parent.document;e&&$("#hs-header-m",e).is(":visible")&&window.parent.window.hsWebHelp.showNavi(!1)},this.getTextLabel=function(e,t,n){var i=$("body").attr("data-"+e);return i||(i=t),void 0!==n&&(i=i.replace("%s",n)),i},this.createPopupBox=function(){var e=$("<div></div>").attr("id","popup-box"),t=$("<div></div>").addClass("container").appendTo(e);return $("<div></div>").addClass("content").appendTo(t),e},this.calcPopupBoxWidth=function(e,t){void 0===t&&(t=e.position().left);var n=$(window).width()-2*t-(e.outerWidth(!0)-e.width());return n>350&&(n=350),n},this.updatePopupBoxWidth=function(e){void 0===e&&(e=$("#popup-box")),e.length&&e.css("width",this.calcPopupBoxWidth(e))},this.alignPopupBox=function(e,t){var n=e.find("> .hstree-node-cnt a"),i=n.offset();t.css("width",this.calcPopupBoxWidth(t,i.left));var o=!0,s=i.top+n.outerHeight(!0)+11;s+t.outerHeight(!0)>$(window).height()&&(o=!1,s=i.top-t.outerHeight(!0)-11),t.css({top:s,left:i.left}),o?t.addClass("pos-bottom"):t.addClass("pos-top")},this.showKwdNoEntryWarning=function(e){this.destroyPopupBox();var t=this.createPopupBox();t.find("div.content").addClass("message").append(this.getTextLabel("index-noentry","To locate information about this keyword, please select one of the subentries in the list.")),$("#tab-index").append(t),this.alignPopupBox(e,t),t.stop(!0,!0).fadeIn("fast")},this.showKwdTopicList=function(t,n){this.destroyPopupBox();for(var i=this.createPopupBox(),o=i.find("div.content"),s=$("<ul></ul>").appendTo(o),r=0;r<n.length;r++){var a=n[r].split("#");if(!((a=$.map(a,$.trim)).length<=0)){var h=gTopicTable[a[0]],d=$("<li></li>").appendTo(s),c=t.find("> .hstree-node-cnt a").attr("target"),p=$('<a class="hs-popuplink"></a>').attr({href:h[3]+(a.length>1?"#"+a[1]:"")}).append(h[2]);c&&p.attr({target:c}),p.on("keydown",(function(t){var n=i.find("a.hs-popuplink").toArray(),o=$.inArray(this,n);switch(t.which){case 32:t.preventDefault(),this.click();break;case 38:t.preventDefault(),o>0&&n[--o].focus();break;case 40:t.preventDefault(),o<n.length-1&&n[++o].focus();break;case 13:e.specKeyPressedOnPopupLink=!0}})).on("click",(function(){e.destroyPopupBox(),$("input#kwd-search").focus(),e.closeNavi()})).appendTo(d)}}$("#tab-index").append(i),this.alignPopupBox(t,i),i.stop(!0,!0).fadeIn("fast")},this.selectKeyword=function(t,n){function i(e,t){for(var n=t.substring(0,t.length-1);""!=n;n=n.substring(0,n.length-1))if(e.substring(0,n.length)==n)return n.length;return 0}function o(e,t,n){if(!e.length||!t)return null;const o=/[.;,:()_{}"\/\\|<>!\?\[\]\-\+\*=%&@#]/g;if(n&&(t=t.replace(o,"")),!t)return null;for(var s=null,r=0,a=0,h=0;h<e.length;h++){var d=$(e[h]),c=d.data("title");if(c&&(n&&(c=c.replace(o,"")),c&&(c=c.toLowerCase()).charAt(0)==t.charAt(0))){if(c.substring(0,t.length)==t)return d;(a=i(c,t))>r&&(s=d,r=a)}}return s}function s(){e.hlKeywordNode&&e.hlKeywordNode.removeClass("hs-highlight")}if(e.specKeyPressedOnPopupLink)e.specKeyPressedOnPopupLink=!1;else{var r,a=null,h=t.val().split(",");if(h.length&&(a=function t(n,i,s){if(!n.length||s>=i.length)return null;var r=$.trim(i[s]).toLowerCase(),a=o(n,r,!1)||o(n,r,!0);if(a){return t(e.$indexTree.hsTree("getChildren",a),i,++s)||a}return null}(this.$indexTree.hsTree("getChildren"),h,0)),function(t){t?e.hlKeywordNode&&t.is(e.hlKeywordNode)||(s(),e.hlKeywordNode=t,e.hlKeywordNode&&e.hlKeywordNode.addClass("hs-highlight"),e.destroyPopupBox()):(s(),e.hlKeywordNode=null,e.destroyPopupBox())}(a),r=0,e.hlKeywordNode&&(d=e.$indexTree.find("> ul.hstree-root > li:first-child")).length&&(d.is(e.hlKeywordNode)||(r=e.hlKeywordNode.position().top+e.$indexTree.scrollTop())),e.$indexTree.scrollTop(r),13==n&&e.hlKeywordNode){var d=e.$indexTree.hsTree("getActiveNode");d&&d.is(e.hlKeywordNode)?e.$indexTree.hsTree("reActivateNode"):e.$indexTree.hsTree("setActiveNode",e.hlKeywordNode)}}},this.getSelectedTab=function(){var e=$("#tabs li.ui-tabs-active > a").attr("href");return""!=e&&(e=e.substring(1)),e},this.alignTabPanel=function(){$("#tabs .ui-tabs-panel:visible").css("height",$(window).height()-$("#tabs .ui-tabs-nav").outerHeight(!0))},this.alignIndexTree=function(){var e=$("#kwd-search-box:visible");0!=e.length&&this.$indexTree.is(":visible")&&this.$indexTree.css("height",$(window).height()-(e.position().top+e.outerHeight(!0)))},this.alignSearchResultTree=function(){var e=$("#sort-result-header:visible");0!=e.length&&$("#search-result-tree:visible").css("height",$(window).height()-(e.position().top+e.outerHeight(!0)))},this.destroyPopupBox=function(){$("#popup-box").stop(!0,!0).hide().remove()},this.setCurrentTopic=function(e){if("tab-toc"==this.getSelectedTab()&&this.activateTocNode(e),this.currentTopicContext=e,this.currentTopicContext>=0){var t=$("#search-result-tree");if(t.length){var n=t.hsTree("getActiveNode");n&&gTopicTable[n.data("hsTopicIndex")][0]!=this.currentTopicContext&&t.hsTree("setActiveNode",null)}}},this.activateTocNode=function(e){if(this.$tocTree&&this.$tocTree.length){var t;if((t=this.$tocTree.hsTree("getActiveNode"))&&e==t.attr("data-context"))return!0;if(t=this.$tocTree.hsTree("getNodeByData","context",e))return this.$tocTree.hsTree("setActiveNode",t,!0),t.find("> .hstree-node-cnt a").focus(),!0}return!1},this.updateCurrentTab=function(){switch(this.alignTabPanel(),this.getSelectedTab()){case"tab-toc":this.currentTopicContext>=0&&this.activateTocNode(this.currentTopicContext),this.destroyPopupBox();break;case"tab-index":this.alignIndexTree(),$("input#kwd-search").focus();break;case"tab-search":t=t||$('head script[src*="search-index.min.js"]').length>0,this.alignSearchResultTree(),$("input#squery").focus(),this.destroyPopupBox()}},this.hideSortingPopupMenu=function(){$("#sorting-popup-menu:visible").stop(!0,!0).fadeOut("fast")},this.createSortingPopupMenu=function(){function t(e,t,n,i){$('<li id="'+t+'" class="menu-item"></li>').append(n).appendTo(e).on("click",i)}var n=$('<ul id="sorting-popup-menu"></ul>');return t(n,"sort-by-rank",e.getTextLabel("sort-byrank","Most relevant"),(function(t){t.stopPropagation(),e.hideSortingPopupMenu(),o(e.searchResultSortKind="rank")})),t(n,"sort-by-title",e.getTextLabel("sort-bytitle","Topic title"),(function(t){t.stopPropagation(),e.hideSortingPopupMenu(),o(e.searchResultSortKind="title")})),n},this.showResultBar=function(t){var n=$("<table></table>"),i=$("<tr></tr>").appendTo(n),o=$("<td></td>").appendTo(i);$('<span class="se-message"></span>').appendTo(o).append(t);var s=$("<td></td>").appendTo(i),r=$('<div id="sort-control" class="text-label"></div>').append(e.getTextLabel("sort-title","Sort by")).on("click",(function(t){t.stopPropagation(),r.find("#sorting-popup-menu:visible").length||function(t){switch(e.searchResultSortKind){case"title":t.find("#sort-by-title").addClass("menu-item-checked"),t.find("#sort-by-rank").removeClass("menu-item-checked");break;case"rank":t.find("#sort-by-title").removeClass("menu-item-checked"),t.find("#sort-by-rank").addClass("menu-item-checked")}var n=$("#sorting-popup-menu"),i=t.offset(),o=!0,s=i.top+t.outerHeight()+12;s+n.outerHeight(!0)>$(window).height()&&(s=i.top-n.outerHeight(!0)-12,o=!1),n.css({top:s,left:i.left+t.outerWidth()-n.outerWidth()}),o?(n.addClass("pos-bottom"),n.removeClass("pos-top")):(n.addClass("pos-top"),n.removeClass("pos-bottom")),n.stop(!0,!0).fadeIn("fast")}(r)}));r.appendTo(s).append(this.createSortingPopupMenu());var a=$('<div id="sort-result-header"></div>').append(n);$("#search-result").empty().append(a)},this.doSearch=function(){var t=new searchEngine;if(t.search($("input#squery").val(),"phrase"==$('input[type="radio"][name="match"]:checked').val())){for(var n=$("<ul></ul>"),s=e.$tocTree.hasClass("hs-icons")?"hs-icons":e.$tocTree.hasClass("hs-icons-c")?"hs-icons-c":"",r=0;r<t.resultItems.length;r++){var a=t.resultItems[r],h=$("<li/>").appendTo(n).attr({title:a.getTitle()}).data({hsRank:a.rank,hsTopicIndex:a.topicIndex,hsHlValue:a.getWordsParamValue()});if("hs-icons"==s){var d=a.getIconClass();d&&h.addClass(d)}$("<a></a>").attr({href:a.getRef(),target:"topic"}).appendTo(h).append(a.getTitle())}this.showResultBar(e.getTextLabel("search-found","%s topic(s) found:",t.resultItems.length)),e.$searchResultTree=$('<div id="search-result-tree"></div>').append(n).appendTo("#search-result"),s&&e.$searchResultTree.addClass(s),e.alignSearchResultTree(),e.$searchResultTree.hsTree({onNodeRender:function(e){e.find("> .hstree-node-btn").remove()},onActivate:function(t){var n=t.find("> .hstree-node-cnt a");if(1==n.length){var i=n.attr("href");i&&"#"!=i&&(i=i+"?highlight="+t.data("hsHlValue"),window.open(i,n.attr("target")),e.closeNavi())}},onDeactivate:function(e){e.addClass("visited-topic")}}),o(e.searchResultSortKind)}else e.$searchResultTree=null,i(e.getTextLabel("search-notopics","No topics found."));!function(e){switch(e){case tSearchMatch.EXACT:$("input#anywords").prop("checked",!0);break;case tSearchMatch.PHRASE:$("input#phrase").prop("checked",!0)}}(t.searchMatch)},this.search=function(){var o,s=$('<div id="search-wait"></div>');$("#search-result").empty().append(s),o=function(t){t?e.doSearch():i("Error: Unable to load search index.")},t||n?t&&o(!0):(n=!0,$.getScript("js/search-index.min.js").done((function(){t=!0,n=!1,o(!0)})).fail((function(){n=!1,o(!1)})))}}var hsNavi=new hsNaviObj;$(document).ready((function(){if(hsNavi.init(),$("#hs-index-p",parent.window.document).length){var e=null;if(!(e=parent.window.hsWebHelp))return;$(window).on("resize",(function(){$("body").toggleClass("hs-mobile",e.isMobileMode())})).trigger("resize")}hsNavi.ready=!0}));